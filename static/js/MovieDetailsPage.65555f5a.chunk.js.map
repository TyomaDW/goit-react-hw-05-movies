{"version":3,"file":"static/js/MovieDetailsPage.65555f5a.chunk.js","mappings":"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","sources":["Api/api.js","webpack://react-homework-template/./src/components/MovieDetailsPage/Cast/Cast.module.css?055e","components/MovieDetailsPage/Cast/Cast.jsx","webpack://react-homework-template/./src/components/MovieDetailsPage/Reviews/Reviews.module.css?1017","components/MovieDetailsPage/Reviews/Reviews.jsx","webpack://react-homework-template/./src/components/MovieDetailsPage/MovieDetailsPage.module.css?377f","components/MovieDetailsPage/MovieDetailsPage.jsx"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\naxios.defaults.params = { api_key: 'aa799e6d0297de166f5b00a47e312b46' };\n\nexport const Trending = async () => {\n  try {\n    const { data } = await axios.get('/trending/movie/day');\n    return data.results;\n  } catch (e) {\n    console.error(e);\n  }\n};\nexport const Search = async query => {\n  try {\n    const { data } = await axios.get(`/search/movie?&query=${query}&page=1`);\n    return data.results;\n  } catch (e) {\n    console.error(e);\n  }\n};\nexport const MovieById = async movieId => {\n  try {\n    const { data } = await axios.get(`/movie/${movieId}`);\n    return data;\n  } catch (e) {\n    console.error(e);\n  }\n};\nexport const Credits = async movieId => {\n  try {\n    const { data } = await axios.get(`/movie/${movieId}/credits`);\n    return data.cast;\n  } catch (e) {\n    console.error(e);\n  }\n};\nexport const Reviews = async movieId => {\n  try {\n    const { data } = await axios.get(`/movie/${movieId}/reviews`);\n    return data.results;\n  } catch (e) {\n    console.error(e);\n  }\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"Cast_list__Mn8zR\",\"item\":\"Cast_item__66r1U\"};","import { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { Credits } from '../../../Api/api';\nimport noImage from '../../../image/noImage.jpg';\n\nimport s from '../Cast/Cast.module.css';\n\nexport const Cast = () => {\n  const { movieId } = useParams();\n  const [casts, setCasts] = useState([]);\n  useEffect(() => {\n    const apiCredits = async () => {\n      try {\n        const data = await Credits(movieId);\n        setCasts(data);\n      } catch (e) {\n        console.error(e);\n      }\n    };\n    apiCredits();\n  }, [movieId]);\n  return (\n    <section>\n      <ul className={s.list}>\n        {casts.map(cast => (\n          <li key={cast.id} className={s.item}>\n            {cast.profile_path ? (\n              <img\n                src={`https://image.tmdb.org/t/p/w300${cast.profile_path}`}\n                alt={cast.original_name}\n              />\n            ) : (\n              <img\n                src={noImage}\n                alt={cast.original_name}\n                height=\"450\"\n                width=\"300\"\n              />\n            )}\n            <p>{cast.original_name}</p>\n            <p>Character: {cast.character}</p>\n          </li>\n        ))}\n      </ul>\n    </section>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"author\":\"Reviews_author__ANsjv\"};","import { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { Reviews } from '../../../Api/api';\n\nimport s from '../Reviews/Reviews.module.css';\n\nexport const Review = () => {\n  const [review, setReview] = useState('');\n  const { movieId } = useParams();\n  useEffect(() => {\n    const apiReviews = async () => {\n      try {\n        const data = await Reviews(movieId);\n        setReview(data);\n      } catch (e) {\n        console.error(e);\n      }\n    };\n    apiReviews();\n  }, [movieId]);\n  return (\n    <div>\n      {review && (\n        <ul>\n          {review.map(rev => (\n            <li key={rev.id}>\n              <p className={s.author}>{rev.author}</p>\n              <p>{rev.content}</p>\n            </li>\n          ))}\n        </ul>\n      )}\n      {!review.length && <p>No review</p>}\n    </div>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"MovieDetailsPage_container__VyXai\",\"poster\":\"MovieDetailsPage_poster__Q+ne9\",\"description\":\"MovieDetailsPage_description__U1JwW\",\"button\":\"MovieDetailsPage_button__IlAfH\",\"list\":\"MovieDetailsPage_list__div34\",\"item\":\"MovieDetailsPage_item__NYiJ0\",\"link\":\"MovieDetailsPage_link__ZE1Eo\",\"activelink\":\"MovieDetailsPage_activelink__S03u2\"};","import { useState, useEffect } from 'react';\nimport {\n  Route,\n  NavLink,\n  useParams,\n  useHistory,\n  useLocation,\n} from 'react-router-dom';\nimport { Cast } from './Cast/Cast';\nimport { Review } from './Reviews/Reviews';\nimport { MovieById } from '../../Api/api';\nimport { ROUTES } from '../../routes';\n\nimport s from './MovieDetailsPage.module.css';\n\nexport default function MovieDetailsPage() {\n  const [details, setDetails] = useState([]);\n  const [genres, setGenres] = useState([]);\n  const { movieId } = useParams();\n  const history = useHistory();\n  const location = useLocation();\n  function back() {\n    const arr = location.pathname.split('/');\n    const lastElement = arr[arr.length - 1];\n    const elementForSearch = arr[arr.length - 2];\n    if (lastElement === 'reviews' || lastElement === 'cast') {\n      history.push('/');\n    } else if (elementForSearch === 'search') {\n      console.log('нужно сделать поиск');\n      history.push('/movies', { from: 'MoviesPage' }); //, { from: \"HomePage\" }\n    } else {\n      history.goBack();\n    }\n  }\n  useEffect(() => {\n    const apiMovieById = async () => {\n      try {\n        const data = await MovieById(movieId);\n        setDetails(data);\n        setGenres(data.genres);\n      } catch (e) {\n        console.error(e);\n      }\n    };\n    apiMovieById();\n  }, [movieId]);\n  return (\n    <section>\n      <div>\n        <button className={s.button} onClick={back} type=\"submit\">\n          GoBack\n        </button>\n      </div>\n      <div className={s.container}>\n        <div className={s.poster}>\n          {details.poster_path && (\n            <img\n              src={`https://image.tmdb.org/t/p/w300${details.poster_path}`}\n              alt={details.original_title}\n            />\n          )}\n        </div>\n        <div className={s.description}>\n          <h1> {details.title} </h1>\n          <p>Release date: {details.release_date}</p>\n          <p>IMDb: {details.vote_average}</p>\n          <h2>Overview</h2>\n          <p>{details.overview}</p>\n          <h2>Genres</h2>\n          <ul>\n            {genres.map(({ id, name }) => (\n              <li key={id}>\n                <p>{name}</p>\n              </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n      <div>\n        <h3>Aditional information</h3>\n        <ul className={s.list}>\n          <li className={s.item}>\n            <NavLink\n              className={s.link}\n              activeClassName={s.activelink}\n              to={`${ROUTES.MoviesPage}/${movieId}/${'cast'}`}\n            >\n              Cast\n            </NavLink>\n          </li>\n          <li className={s.item}>\n            <NavLink\n              className={s.link}\n              activeClassName={s.activelink}\n              to={`${ROUTES.MoviesPage}/${movieId}/${'reviews'}`}\n            >\n              Review\n            </NavLink>\n          </li>\n        </ul>\n      </div>\n      <Route path={ROUTES.Cast} component={Cast} />\n      <Route path={ROUTES.Review} component={Review} />\n    </section>\n  );\n}\n"],"names":["axios","api_key","Trending","data","results","console","error","Search","query","MovieById","movieId","Credits","cast","Reviews","Cast","useParams","useState","casts","setCasts","useEffect","apiCredits","className","s","map","profile_path","src","alt","original_name","noImage","height","width","character","id","Review","review","setReview","apiReviews","rev","author","content","length","MovieDetailsPage","details","setDetails","genres","setGenres","history","useHistory","location","useLocation","apiMovieById","onClick","arr","pathname","split","lastElement","elementForSearch","push","log","from","goBack","type","poster_path","original_title","title","release_date","vote_average","overview","name","activeClassName","to","ROUTES","path","component"],"sourceRoot":""}