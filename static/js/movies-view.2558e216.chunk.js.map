{"version":3,"file":"static/js/movies-view.2558e216.chunk.js","mappings":"+LACA,EAAuB,mB,SCgBvB,EAZa,SAAC,GAAa,IAAXA,EAAU,EAAVA,IACRC,GAAWC,EAAAA,EAAAA,MAEXC,EAAQ,OAAGH,QAAH,IAAGA,OAAH,EAAGA,EAAKI,KAAI,SAAAC,GAAI,OAC5B,eAAIC,UAAWC,EAAf,UACE,SAAC,KAAD,CAAMC,GAAI,CAAEC,SAAS,WAAD,OAAaJ,EAAKK,IAAMC,MAAO,CAAEC,KAAMX,IAA3D,SAA0EI,EAAKQ,SADhDR,EAAKK,OAKxC,OAAO,wBAAKP,M,sFCXRW,EAAW,gCACXC,EAAS,CAAEC,QAFD,oCAwBhB,IAQA,EARkB,CAChBC,WArBF,WACE,OAAOC,IAAAA,IAAA,UAAaJ,EAAb,iBAAsC,CAAEC,OAAAA,KAqB/CI,WAlBF,SAAoBC,GAClB,OAAOF,IAAAA,IAAA,UAAaJ,EAAb,iBAA8BM,GAAW,CAAEL,OAAAA,KAkBlDM,QAfF,SAAiBD,GACf,OAAOF,IAAAA,IAAA,UAAaJ,EAAb,iBAA8BM,EAA9B,YAAiD,CAAEL,OAAAA,KAe1DO,WAZF,SAAoBF,GAClB,OAAOF,IAAAA,IAAA,UAAaJ,EAAb,iBAA8BM,EAA9B,YAAiD,CAAEL,OAAAA,KAY1DQ,eATF,SAAwBC,GACtB,OAAON,IAAAA,IAAA,UAAaJ,EAAb,gBAAqC,CAAEC,QAAO,kBAAMA,GAAP,IAAeS,MAAAA,S,wHCtBrE,EAA2B,uB,SCuB3B,MAnBA,YAA6B,IAAbC,EAAY,EAAZA,SACd,GAA0BC,EAAAA,EAAAA,UAAS,IAAnC,eAAOF,EAAP,KAAcG,EAAd,KAUA,OACE,kBAAMrB,UAAWC,EAAiBkB,SALf,SAAAG,GACnBA,EAAEC,iBACFJ,EAASD,IAGT,WACE,kBAAOM,MAAON,EAAOO,SAVF,SAAAH,GACrBD,EAASC,EAAEI,OAAOF,WAUhB,mBAAQG,KAAK,SAAb,wB,UCsBN,EAlCmB,WACjB,OAA4BP,EAAAA,EAAAA,UAAS,MAArC,eAAOQ,EAAP,KAAeC,EAAf,KACMC,GAAUC,EAAAA,EAAAA,MACVpC,GAAWC,EAAAA,EAAAA,MAEXsB,EAAQ,IAAIc,gBAAgBrC,EAASsC,QAAQC,IAAI,SASvD,SAASC,EAAajB,GACpBkB,EAAAA,EAAAA,eACkBlB,GACfmB,MAAK,SAAAC,GACJT,EAAUS,EAASC,KAAKC,SACxBV,EAAQW,MAAR,kBAAkB9C,GAAlB,IAA4BsC,OAAO,SAAD,OAAWf,SAE9CwB,OAAM,SAAAC,GACLC,MAAM,6CAAD,OAA8CD,EAAIE,QAAlD,UAIX,OAnBAC,EAAAA,EAAAA,YAAU,WACJ5B,GACFiB,EAAajB,KAEd,CAACiB,EAAcjB,KAgBhB,iCACE,SAAC,EAAD,CAAMC,SAAUgB,KAChB,gCAAKP,IAAU,SAACmB,EAAA,EAAD,CAAMrD,IAAKkC","sources":["components/List/List.module.css","components/List/List.jsx","services/api/api.js","webpack://react-homework-template/./src/components/Form/Form.module.css?89ba","components/Form/Form.jsx","views/MoviesView/MoviesView.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"list\":\"List_list__AK7hC\"};","import PropTypes from 'prop-types';\nimport { Link, useLocation } from 'react-router-dom';\n\nimport styles from './List.module.css';\n\nconst List = ({ arr }) => {\n  const location = useLocation();\n\n  const elements = arr?.map(item => (\n    <li className={styles.list} key={item.id}>\n      <Link to={{ pathname: `/movies/${item.id}`, state: { from: location } }}>{item.title}</Link>\n    </li>\n  ));\n\n  return <ul>{elements}</ul>;\n};\n\nexport default List;\n\nList.propTypes = {\n  arr: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string,\n    }),\n  ).isRequired,\n};\n","import axios from 'axios';\n\nconst API_KEY = 'aa799e6d0297de166f5b00a47e312b46';\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst params = { api_key: API_KEY };\n\nfunction getPopular() {\n  return axios.get(`${BASE_URL}movie/popular`, { params });\n}\n\nfunction getDetails(movieId) {\n  return axios.get(`${BASE_URL}movie/${movieId}`, { params });\n}\n\nfunction getCast(movieId) {\n  return axios.get(`${BASE_URL}movie/${movieId}/credits`, { params });\n}\n\nfunction getReviews(movieId) {\n  return axios.get(`${BASE_URL}movie/${movieId}/reviews`, { params });\n}\n\nfunction getMovieByName(query) {\n  return axios.get(`${BASE_URL}search/movie`, { params: { ...params, query } });\n}\n\nconst moviesAPI = {\n  getPopular,\n  getDetails,\n  getCast,\n  getReviews,\n  getMovieByName,\n};\n\nexport default moviesAPI;\n","// extracted by mini-css-extract-plugin\nexport default {\"userForm\":\"Form_userForm__4Bxgo\"};","import { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './Form.module.css';\n\nfunction Form({ onSubmit }) {\n  const [query, setQuery] = useState('');\n\n  const handleOnChange = e => {\n    setQuery(e.target.value);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    onSubmit(query);\n  };\n  return (\n    <form className={styles.userForm} onSubmit={handleSubmit}>\n      <input value={query} onChange={handleOnChange} />\n      <button type=\"Submit\">Search</button>\n    </form>\n  );\n}\n\nexport default Form;\n\nForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import { useState, useEffect } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\n\nimport moviesAPI from '../../services/api';\nimport Form from '../../components/Form';\nimport List from '../../components/List';\n\nconst MoviesView = () => {\n  const [movies, setMovies] = useState(null);\n  const history = useHistory();\n  const location = useLocation();\n\n  const query = new URLSearchParams(location.search).get('query');\n\n  useEffect(() => {\n    if (query) {\n      handleSubmit(query);\n    }\n  }, [handleSubmit, query]);\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  function handleSubmit(query) {\n    moviesAPI\n      .getMovieByName(query)\n      .then(responce => {\n        setMovies(responce.data.results);\n        history.push({ ...location, search: `query=${query}` });\n      })\n      .catch(err => {\n        alert(`Something went wronge! The Error apears: \"${err.message}\" `);\n      });\n  }\n\n  return (\n    <>\n      <Form onSubmit={handleSubmit} />\n      <>{!!movies && <List arr={movies} />}</>\n    </>\n  );\n};\n\nexport default MoviesView;\n"],"names":["arr","location","useLocation","elements","map","item","className","styles","to","pathname","id","state","from","title","BASE_URL","params","api_key","getPopular","axios","getDetails","movieId","getCast","getReviews","getMovieByName","query","onSubmit","useState","setQuery","e","preventDefault","value","onChange","target","type","movies","setMovies","history","useHistory","URLSearchParams","search","get","handleSubmit","moviesAPI","then","responce","data","results","push","catch","err","alert","message","useEffect","List"],"sourceRoot":""}