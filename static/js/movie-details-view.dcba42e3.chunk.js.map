{"version":3,"file":"static/js/movie-details-view.dcba42e3.chunk.js","mappings":"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","sources":["services/api/api.js","webpack://react-homework-template/./src/views/MovieDetailsView/MovieDetailsView.module.css?8dcd","views/MovieDetailsView/MovieDetailsView.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = 'aa799e6d0297de166f5b00a47e312b46';\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst params = { api_key: API_KEY };\n\nfunction getPopular() {\n  return axios.get(`${BASE_URL}movie/popular`, { params });\n}\n\nfunction getDetails(movieId) {\n  return axios.get(`${BASE_URL}movie/${movieId}`, { params });\n}\n\nfunction getCast(movieId) {\n  return axios.get(`${BASE_URL}movie/${movieId}/credits`, { params });\n}\n\nfunction getReviews(movieId) {\n  return axios.get(`${BASE_URL}movie/${movieId}/reviews`, { params });\n}\n\nfunction getMovieByName(query) {\n  return axios.get(`${BASE_URL}search/movie`, { params: { ...params, query } });\n}\n\nconst moviesAPI = {\n  getPopular,\n  getDetails,\n  getCast,\n  getReviews,\n  getMovieByName,\n};\n\nexport default moviesAPI;\n","// extracted by mini-css-extract-plugin\nexport default {\"navLink\":\"MovieDetailsView_navLink__CEcQ1\",\"btnGoBack\":\"MovieDetailsView_btnGoBack__6yWwx\",\"activeNavLink\":\"MovieDetailsView_activeNavLink__ArT96\",\"movieCard\":\"MovieDetailsView_movieCard__VBUw4\",\"movieInfoWrapper\":\"MovieDetailsView_movieInfoWrapper__+UJKO\",\"movieTextInfo\":\"MovieDetailsView_movieTextInfo__7DX5E\",\"poster\":\"MovieDetailsView_poster__Y8-pX\"};","import {\n  useParams,\n  useRouteMatch,\n  NavLink,\n  Route,\n  useHistory,\n  useLocation,\n} from 'react-router-dom';\nimport { useState, useEffect, lazy, Suspense } from 'react';\nimport moviesAPI from '../../services/api';\n\nimport image from '../../images/no-image-new.png';\nimport styles from './MovieDetailsView.module.css';\n\nconst Cast = lazy(() =>\n  import(\n    '../../components/Cast/Cast.jsx' /* webpackChunkName: \"cast-component\"*/\n  )\n);\nconst Reviews = lazy(() =>\n  import(\n    '../../components/Reviews/Reviews.jsx' /* webpackChunkName: \"reviews-component\"*/\n  )\n);\n\nfunction MovieDetailsView() {\n  const { url } = useRouteMatch();\n  const history = useHistory();\n  const location = useLocation();\n\n  const { movieId } = useParams();\n  const [movie, setMovie] = useState(null);\n  console.log('Root history = ', history);\n\n  useEffect(() => {\n    moviesAPI\n      .getDetails(movieId)\n      .then(responce => {\n        setMovie(responce.data);\n      })\n      .catch(err => {\n        alert(`Something went wronge! The Error apears: \"${err.message}\" `);\n      });\n  }, [movieId]);\n\n  const onGoBack = () => {\n    history.push(location?.state?.from ?? '/');\n    console.log('onGoBack history = ', history);\n  };\n\n  console.log('url', url);\n\n  return (\n    <>\n      <button className={styles.btnGoBack} type=\"button\" onClick={onGoBack}>\n        Go back\n      </button>\n\n      {movie && (\n        <div className={styles.movieCard}>\n          <div className={styles.movieInfoWrapper}>\n            {movie.poster_path ? (\n              <img\n                className={styles.poster}\n                src={`https://www.themoviedb.org/t/p/original${movie.poster_path}`}\n                alt={'poster'}\n              />\n            ) : (\n              <img className={styles.poster} src={image} alt={'poster'} />\n            )}\n            <div className={styles.movieTextInfo}>\n              <h1>{movie.title}</h1>\n              <p>{`User Score: ${movie.vote_average}`}</p>\n              <h2>Overview</h2>\n              <p>{movie.overview}</p>\n              <h3>Genres</h3>\n              <p>{movie.genres.map(genre => genre.name).join(', ')}</p>\n            </div>\n          </div>\n          <div>\n            <p>Additional information</p>\n            <ul>\n              <li>\n                <NavLink\n                  className={styles.navLink}\n                  activeClassName={styles.activeNavLink}\n                  to={{\n                    pathname: `${url}/cast`,\n                    state: { from: location?.state?.from },\n                  }}\n                >\n                  Cast\n                </NavLink>\n              </li>\n              <li>\n                <NavLink\n                  className={styles.navLink}\n                  activeClassName={styles.activeNavLink}\n                  to={{\n                    pathname: `${url}/reviews`,\n                    state: { from: location?.state?.from },\n                  }}\n                >\n                  Reviews\n                </NavLink>\n              </li>\n            </ul>\n          </div>\n        </div>\n      )}\n      <Suspense fallback={<p>...loading. Please, wait!</p>}>\n        <Route path={`${url}/cast`}>\n          <Cast movieId={movie?.id} />\n        </Route>\n        <Route path={`${url}/reviews`}>\n          <Reviews movieId={movie?.id} />\n        </Route>\n      </Suspense>\n    </>\n  );\n}\n\nexport default MovieDetailsView;\n"],"names":["BASE_URL","params","api_key","getPopular","axios","getDetails","movieId","getCast","getReviews","getMovieByName","query","Cast","lazy","Reviews","url","useRouteMatch","history","useHistory","location","useLocation","useParams","useState","movie","setMovie","console","log","useEffect","moviesAPI","then","responce","data","catch","err","alert","message","className","styles","type","onClick","push","state","from","poster_path","src","alt","image","title","vote_average","overview","genres","map","genre","name","join","activeClassName","to","pathname","Suspense","fallback","path","id"],"sourceRoot":""}